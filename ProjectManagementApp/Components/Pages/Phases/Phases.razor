@page "/phases"
@using ProjectManagementApp.Components.Shared
@using ProjectManagementApp.Data
@using ProjectManagementApp.Services
@using ReactApp.Server.ViewModels
@inject NavigationManager NavigationManager
@inject PhaseHttpClient phaseClient


<PageTitle>Phases</PageTitle>

<MudText Typo="Typo.h1" Class="px-6">Phases</MudText>

<PhaseTable PhaseList="@PhaseList" />


@code {
    private IEnumerable<PhaseVm>? PhaseList { get; set; }

    protected override async Task OnInitializedAsync()
    {
        PhaseList = await phaseClient.GetPhasesAsync();
    }

    public void Details(string id) => NavigationManager.NavigateTo($"/phases/details/{id}", true);
}